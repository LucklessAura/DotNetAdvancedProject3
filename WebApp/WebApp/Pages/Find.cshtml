@page
@model WebApp.FindModel
@{
    ViewData["Title"] = "Find";
}

<h1>Find</h1>
<p>This is the page were you will be able to find all your photos</p>
<table class="table">
    <thead>
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.files[0].FileId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.files[0].DateCreated)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.files[0].FileName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.files[0].Ocasion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.files[0].People)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.files[0].Place)
            </th>
            <th>
                Image
            </th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.files)
        {
            string id = "image" + item.FileId;
        <tr style="font-size:small" class="Hoverable" id="@id">
            <td>@Html.DisplayFor(modelItem => item.FileId)</td>
            <td>@Html.DisplayFor(modelItem => item.DateCreated)</td>
            <td>@Html.DisplayFor(modelItem => item.FileName)</td>
            <td>@Html.DisplayFor(modelItem => item.Ocasion)</td>
            <td>@Html.DisplayFor(modelItem => item.People)</td>
            <td>@Html.DisplayFor(modelItem => item.Place)</td>
            <td>
                @{
                    var base64 = Convert.ToBase64String(await Model.client.GetImageBytesAsync(item.FileId));
                    var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                    
                }

                <img src="@imgSrc" class="imagePreview" id="@id"/>


</td>


</tr>
        }
    </tbody>
</table>
